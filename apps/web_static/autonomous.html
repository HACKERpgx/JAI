<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>JAI Autonomous System</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    .autonomous-dashboard {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      padding: 20px;
    }
    
    .panel {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 20px;
      border: 1px solid #dee2e6;
    }
    
    .panel h3 {
      margin-top: 0;
      color: #495057;
      border-bottom: 2px solid #007bff;
      padding-bottom: 10px;
    }
    
    .status-indicator {
      display: inline-block;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      margin-right: 8px;
    }
    
    .status-active { background-color: #28a745; }
    .status-idle { background-color: #ffc107; }
    .status-error { background-color: #dc3545; }
    
    .metric-card {
      background: white;
      padding: 15px;
      border-radius: 6px;
      margin-bottom: 10px;
      border-left: 4px solid #007bff;
    }
    
    .metric-value {
      font-size: 24px;
      font-weight: bold;
      color: #007bff;
    }
    
    .metric-label {
      color: #6c757d;
      font-size: 14px;
    }
    
    .task-list {
      max-height: 300px;
      overflow-y: auto;
    }
    
    .task-item {
      background: white;
      padding: 12px;
      margin-bottom: 8px;
      border-radius: 4px;
      border-left: 4px solid #28a745;
    }
    
    .task-item.failed {
      border-left-color: #dc3545;
    }
    
    .task-item.pending {
      border-left-color: #ffc107;
    }
    
    .autonomous-controls {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }
    
    .control-btn {
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.2s;
    }
    
    .control-btn.primary {
      background: #007bff;
      color: white;
    }
    
    .control-btn.primary:hover {
      background: #0056b3;
    }
    
    .control-btn.secondary {
      background: #6c757d;
      color: white;
    }
    
    .control-btn.danger {
      background: #dc3545;
      color: white;
    }
    
    .feedback-section {
      margin-top: 20px;
    }
    
    .rating-stars {
      display: flex;
      gap: 5px;
      margin: 10px 0;
    }
    
    .star {
      font-size: 20px;
      color: #ddd;
      cursor: pointer;
      transition: color 0.2s;
    }
    
    .star:hover,
    .star.active {
      color: #ffc107;
    }
    
    .learning-insights {
      background: #e9ecef;
      padding: 15px;
      border-radius: 6px;
      margin-top: 15px;
    }
    
    .progress-bar {
      width: 100%;
      height: 20px;
      background: #e9ecef;
      border-radius: 10px;
      overflow: hidden;
      margin: 10px 0;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #007bff, #28a745);
      transition: width 0.3s ease;
    }
    
    .chart-container {
      height: 200px;
      background: white;
      border-radius: 6px;
      padding: 15px;
      margin-top: 15px;
    }
    
    @media (max-width: 768px) {
      .autonomous-dashboard {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="brand">
        <div class="logo">JAI</div>
        <h1>Autonomous System</h1>
      </div>
      <div class="api-config">
        <label for="apiBase">API Base</label>
        <input id="apiBase" type="text" placeholder="http://localhost:8080" />
        <button id="saveBase">Save</button>
        <button id="healthBtn" class="secondary">Health</button>
        <span id="healthStatus" class="status"></span>
      </div>
    </header>

    <main class="main">
      <div class="autonomous-controls">
        <button id="enableAutonomous" class="control-btn primary">Enable Autonomous Mode</button>
        <button id="disableAutonomous" class="control-btn secondary">Disable Autonomous Mode</button>
        <button id="emergencyStop" class="control-btn danger">Emergency Stop</button>
        <button id="refreshData" class="control-btn secondary">Refresh Data</button>
      </div>

      <div class="autonomous-dashboard">
        <!-- System Status Panel -->
        <div class="panel">
          <h3>System Status</h3>
          <div class="metric-card">
            <div class="metric-value" id="systemStatus">
              <span class="status-indicator status-idle"></span>
              Idle
            </div>
            <div class="metric-label">Overall Status</div>
          </div>
          
          <div class="metric-card">
            <div class="metric-value" id="activeTasks">0</div>
            <div class="metric-label">Active Tasks</div>
          </div>
          
          <div class="metric-card">
            <div class="metric-value" id="successRate">0%</div>
            <div class="metric-label">Success Rate</div>
          </div>
          
          <div class="metric-card">
            <div class="metric-value" id="learningProgress">0%</div>
            <div class="metric-label">Learning Progress</div>
            <div class="progress-bar">
              <div class="progress-fill" id="learningProgressBar" style="width: 0%"></div>
            </div>
          </div>
        </div>

        <!-- Performance Metrics Panel -->
        <div class="panel">
          <h3>Performance Metrics</h3>
          <div class="metric-card">
            <div class="metric-value" id="totalTasks">0</div>
            <div class="metric-label">Total Tasks Processed</div>
          </div>
          
          <div class="metric-card">
            <div class="metric-value" id="avgResponseTime">0ms</div>
            <div class="metric-label">Average Response Time</div>
          </div>
          
          <div class="metric-card">
            <div class="metric-value" id="errorRate">0%</div>
            <div class="metric-label">Error Rate</div>
          </div>
          
          <div class="metric-card">
            <div class="metric-value" id="uptime">0h</div>
            <div class="metric-label">System Uptime</div>
          </div>
        </div>

        <!-- Active Tasks Panel -->
        <div class="panel">
          <h3>Active Tasks</h3>
          <div class="task-list" id="activeTasksList">
            <p style="color: #6c757d; text-align: center;">No active tasks</p>
          </div>
        </div>

        <!-- Recent History Panel -->
        <div class="panel">
          <h3>Recent Task History</h3>
          <div class="task-list" id="taskHistory">
            <p style="color: #6c757d; text-align: center;">No recent tasks</p>
          </div>
        </div>

        <!-- Learning Insights Panel -->
        <div class="panel">
          <h3>Learning Insights</h3>
          <div class="learning-insights">
            <div class="metric-card">
              <div class="metric-value" id="learnedPatterns">0</div>
              <div class="metric-label">Learned Patterns</div>
            </div>
            
            <div class="metric-card">
              <div class="metric-value" id="userPreferences">0</div>
              <div class="metric-label">User Preferences</div>
            </div>
            
            <div class="metric-card">
              <div class="metric-value" id="accuracyImprovement">0%</div>
              <div class="metric-label">Accuracy Improvement</div>
            </div>
          </div>
          
          <div class="chart-container" id="performanceChart">
            <canvas id="performanceCanvas"></canvas>
          </div>
        </div>

        <!-- Feedback Panel -->
        <div class="panel">
          <h3>Feedback & Training</h3>
          <div class="feedback-section">
            <label for="taskSelect">Select Task:</label>
            <select id="taskSelect" style="width: 100%; padding: 8px; margin: 10px 0;">
              <option value="">Choose a recent task...</option>
            </select>
            
            <label>Rate Performance:</label>
            <div class="rating-stars" id="ratingStars">
              <span class="star" data-rating="1">★</span>
              <span class="star" data-rating="2">★</span>
              <span class="star" data-rating="3">★</span>
              <span class="star" data-rating="4">★</span>
              <span class="star" data-rating="5">★</span>
            </div>
            
            <label for="feedbackComment">Comment:</label>
            <textarea id="feedbackComment" style="width: 100%; height: 80px; margin: 10px 0; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" placeholder="Provide feedback to help JAI learn..."></textarea>
            
            <button id="submitFeedback" class="control-btn primary" style="width: 100%;">Submit Feedback</button>
          </div>
          
          <div style="margin-top: 20px;">
            <button id="trainModel" class="control-btn secondary" style="width: 100%;">Train Model</button>
            <button id="exportData" class="control-btn secondary" style="width: 100%; margin-top: 10px;">Export Learning Data</button>
          </div>
        </div>
      </div>

      <!-- Chat Interface -->
      <section class="chat" aria-label="Chat" style="margin-top: 20px;">
        <div class="panel">
          <h3>Autonomous Chat Interface</h3>
          <div id="messages" class="messages" aria-live="polite" style="height: 300px;"></div>
          <div class="composer">
            <input id="textInput" type="text" placeholder="Ask JAI to handle tasks autonomously..." />
            <button id="sendBtn" class="primary">Send</button>
          </div>
          <div class="voice-controls" aria-label="Voice Recorder">
            <label for="voiceLang">Language</label>
            <select id="voiceLang">
              <option value="en-US" selected>English (US)</option>
              <option value="ar-SA">Arabic (Saudi Arabia)</option>
              <option value="ur-PK">Urdu (Pakistan)</option>
              <option value="fr-FR">French (France)</option>
            </select>
            <button id="startRecBtn">Start Recording</button>
            <button id="stopRecBtn" disabled>Stop</button>
            <span id="voiceStatus" class="status"></span>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <small>JAI Autonomous System - Advanced AI with Learning Capabilities</small>
    </footer>
  </div>

  <script src="autonomous.js"></script>
</body>
</html>
